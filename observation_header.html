<link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i&amp;subset=cyrillic,cyrillic-ext" rel="stylesheet">

<link rel="icon" type="image/png" href="/L2146/data_source/wh.png" />
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.min.css">
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

<script>
Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var d=0;d<this.length;d++)if(this[d]===a)return d;return-1});
Array.prototype.fillRange=function(){try{if(2>this.length)throw new TypeError("Array.fillRange: \u0414\u043b\u0438\u043d\u0430 \u043c\u0430\u0441\u0441\u0438\u0432\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435 2!");for(var a=+this[1],d=0,b=[],c=+this[0];c<=a;c++)b[d]=c,d++;if(2<this.length)for(c=2;c<this.length;c++)b.push(+this[c]);return b}catch(f){window.console?console.error(f.message):alert(f.message)}};
function objQuestion(a){this.name=a;this.getQuesType=function(){var a=document.getElementById(this.name);if(a)switch(a.parentNode.className){case "numeric":return"numeric";case "grid":return"gridNumeric";case "constant_sum":return"constantSum";case "select":for(a=1;;a++){var b=document.getElementById(this.name+"_"+a);if(b){if("radio"==b.getAttribute("type"))return"radio";if("checkbox"==b.getAttribute("type"))return"checkbox";if("OPTION"==b.tagName)return"combo"}}}};this.nameOther=[a+"other"];this.getOtherType=
function(){if("[object String]"===Object.prototype.toString.call(this.nameOther)){var a=document.getElementById(this.nameOther);return a&&"grid"==a.parentNode.className?["grid"]:!a||"open_end"!=a.parentNode.className&&"numeric"!=a.parentNode.className?"undefined":["input"]}if("[object Array]"===Object.prototype.toString.call(this.nameOther)){for(var b=[],c=0;c<this.nameOther.length;c++)a=document.getElementById(this.nameOther[c]),b[c]=a&&"grid"==a.parentNode.className?"grid":!a||"open_end"!=a.parentNode.className&&
"numeric"!=a.parentNode.className?"undefined":"input";return b}};this.contentsDefault="none";this.requireUpdateAnsw=!1;this.setContentsOther=function(a,b){b="undefined"===typeof b?0:b;if("input"==this.getOtherType()[b]){var c=this.nameOther[b]+"_input";document.getElementById(c).value=a;$("#"+c).trigger("keyup")}else if("grid"==this.getOtherType()[b])for(c=1;;c++){var d=this.nameOther[b]+"_r"+c+"_c1";if(document.getElementById(d))document.getElementById(d).value=a,$("#"+d).trigger("keyup");else break}};
this.showQuesOther=function(a){a.style.display="block"};this.hideQuesOther=function(a){a.style.display="none"}}
function otherSpecify(a){if(0==arguments.length||void 0===a||1<arguments.length||0==$("#"+a.name).length)return!1;if("[object String]"===Object.prototype.toString.call(a.nameOther))a.nameOther=[a.nameOther];else if("[object Number]"===Object.prototype.toString.call(a.nameOther))return!1;"[object Number]"===Object.prototype.toString.call(a.specifiedRows)&&(a.specifiedRows=[a.specifiedRows]);"[object Number]"===Object.prototype.toString.call(a.specifiedValues)&&(a.specifiedValues=[a.specifiedValues]);
if("numeric"==a.getQuesType()||"combo"==a.getQuesType()){var d=function(e){for(var d in c){var g=0;$.each(c[d],function(a,e){if($("#"+b).val()==e)return g=1,!1});indx=a.nameOther.indexOf(d);if(g){if(!$("#"+a.nameOther[indx]).is(":visible")||a.requireUpdateAnsw)a.showQuesOther(document.getElementById(a.nameOther[indx])),e&&a.setContentsOther("",indx)}else a.hideQuesOther(document.getElementById(a.nameOther[indx])),a.setContentsOther(a.contentsDefault,indx)}},b=a.name+"_input",c={};$.each(a.specifiedValues,
function(e,b){indx=1<a.nameOther.length?e:0;"[object Array]"!==Object.prototype.toString.call(c[a.nameOther[indx]])&&(c[a.nameOther[indx]]=[]);c[a.nameOther[indx]].push(b)});d(0);var f="numeric"==a.getQuesType()?"keyup":"change";$("#"+b).on(f,function(){d(1)});if("combo"==a.getQuesType())$("#"+b).on("keyup",function(a){a=a||window.event;a=a.target||a.srcElement;a.blur();a.focus()})}else if("radio"==a.getQuesType()){var h=function(b){for(var e in c){var d=0;$.each(c[e],function(c,b){if($("#"+a.name+
"_"+b).prop("checked"))return d=1,!1});indx=a.nameOther.indexOf(e);if(d){if(!$("#"+a.nameOther[indx]).is(":visible")||a.requireUpdateAnsw)a.showQuesOther(document.getElementById(a.nameOther[indx])),b&&a.setContentsOther("",indx)}else a.hideQuesOther(document.getElementById(a.nameOther[indx])),a.setContentsOther(a.contentsDefault,indx)}};c={};$.each(a.specifiedRows,function(b,d){indx=1<a.nameOther.length?b:0;"[object Array]"!==Object.prototype.toString.call(c[a.nameOther[indx]])&&(c[a.nameOther[indx]]=
[]);c[a.nameOther[indx]].push(d)});h(0);$("#"+a.name).on("click","[type='radio']",function(){h(1)})}else if("checkbox"==a.getQuesType()){var k=function(b,c){var d=b?+b.id.split("_")[1]:0;$(a.specifiedRows).each(function(b,e){$("#"+a.name+"_"+e).prop("checked")?(a.showQuesOther(document.getElementById(a.nameOther[b])),c&&d==e&&a.setContentsOther("",b)):(a.hideQuesOther(document.getElementById(a.nameOther[b])),a.setContentsOther(a.contentsDefault,b))})};k(null,0);$("#"+a.name).on("click","[type='checkbox']",
function(){k(this,1)})}else if("gridNumeric"==a.getQuesType()||"constantSum"==a.getQuesType())void 0===a.specifiedRows&&(a.specifiedRows=[],$("#"+a.name+" [type='text'][id^='"+a.name+"_']:not([id$=_other]):not([id$=_total])").each(function(){a.specifiedRows.push(+/\d+/.exec(this.id.split("_")[1]))})),$(a.specifiedRows).each(function(b,c){var d="gridNumeric"==a.getQuesType()?"#"+a.name+"_r"+c+"_c1":"#"+a.name+"_"+c;void 0===a.specifiedValues&&""!=$(d).val()||void 0!==a.specifiedValues&&-1!=a.specifiedValues.indexOf(+$(d).val())?
a.showQuesOther(document.getElementById(a.nameOther[b])):(a.hideQuesOther(document.getElementById(a.nameOther[b])),a.setContentsOther(a.contentsDefault,b))}),$("#"+a.name).on("keyup","[type='text'][id^='"+a.name+"_']:not([id$=_other])",function(){var b=+/\d+/.exec(this.id.split("_")[1]);b=a.specifiedRows.indexOf(b);if(-1!=b)if(void 0===a.specifiedValues&&""!=$(this).val()||void 0!==a.specifiedValues&&-1!=a.specifiedValues.indexOf(+$(this).val())){if(!$("#"+a.nameOther[b]).is(":visible")||a.requireUpdateAnsw)a.showQuesOther(document.getElementById(a.nameOther[b])),
a.setContentsOther("",b)}else a.hideQuesOther(document.getElementById(a.nameOther[b])),a.setContentsOther(a.contentsDefault,b)})};

$(function(){
	$("title").html("МП " + "[%respName%]" + " Визит №" + "[%visit%]");
	
	if ($(".error_messages").length && $(".error_messages").text().trim() == "Эта анкета закончена, спасибо за участие."){
		localStorage.removeItem("[%lsUser%]");//Удаление ответов на анкету
		localStorage.setItem("[%lsStatus%]", 2);//Изменение статуса на комплит
	}
});
</script>
